{"version":3,"sources":["webpack:///./src/views/Notice.vue?de21","webpack:///src/views/Notice.vue","webpack:///./src/views/Notice.vue?37ae","webpack:///./src/views/Notice.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","staticStyle","_l","notice","i","key","on","$event","navigate","getEmbUrl","giverTeam","_s","_f","regDate","content","model","value","callback","$$v","activateVote","expression","votes","header","showVoteMatchInfoById","staticRenderFns","name","components","VoteMatchList","data","notices","mounted","showNotices","methods","team","$emblem","emblem","$axios","pageName","moveToPage","takerTeam","pageCom","length","pageCon","setTeam","params","isEndR","type","pageR","registeredStageR","appliedStageR","$router","push","userInfo","teamId","teamMemberId","nickName","teamName","memberLevel","sessionStorage","setItem","JSON","stringify","filters","filterRegDate","month","day","component","VAvatar","VBtn","VCard","VCol","VContainer","VDialog","VDivider","VImg","VRow"],"mappings":"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","file":"js/chunk-2d2183fc.d840dc1d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"py-0 my-7 px-0 mx-0\",attrs:{\"fluid\":\"\"}},[_c('v-row',{staticClass:\"py-0 my-0 px-0 mx-5\",attrs:{\"fluid\":\"\",\"justify\":\"center\"}},[_c('v-col',{staticClass:\"pa-0 ma-0\",attrs:{\"xl\":\"6\",\"lg\":\"8\",\"cols\":\"12\"}},[_c('v-row',{staticClass:\"py-0 my-0 px-0 mx-5\"},[_c('v-col',{staticClass:\"pa-0 ma-0 mb-2\",attrs:{\"cols\":\"12\"}},[_c('span',[_vm._v(\"전체 알림\")]),_c('v-divider',{staticStyle:{\"border-color\":\"#C4C4C4 !important\"}},[_vm._v(\" inset \")])],1)],1),_c('v-row',{staticClass:\"mt-3\",attrs:{\"justify\":\"center\"}},_vm._l((_vm.notices),function(notice,i){return _c('v-card',{key:i,staticClass:\"mx-7 pa-3 mb-2\",staticStyle:{\"width\":\"75%\"},on:{\"click\":function($event){return _vm.navigate(notice)}}},[(notice.giverTeam)?_c('v-avatar',{attrs:{\"color\":\"white\",\"size\":\"38\",\"rounded\":\"\"}},[_c('v-img',{attrs:{\"src\":_vm.getEmbUrl(notice.giverTeam)}})],1):_c('v-avatar',{attrs:{\"color\":\"primary\",\"size\":\"38\",\"rounded\":\"\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(\"FBT\")])]),_c('span',{staticClass:\"ml-2 mr-5\",staticStyle:{\"font-size\":\"0.7em\"}},[_vm._v(_vm._s(_vm._f(\"filterRegDate\")(notice.regDate)))]),_c('span',[_vm._v(_vm._s(notice.content)+\" \")]),_c('v-dialog',{model:{value:(_vm.activateVote),callback:function ($$v) {_vm.activateVote=$$v},expression:\"activateVote\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('vote-match-list',{staticClass:\"justify-center\",staticStyle:{\"width\":\"90%\"},attrs:{\"votes\":_vm.votes,\"header\":_vm.header},on:{\"refresh\":function($event){return _vm.showVoteMatchInfoById(notice)}}})],1),_c('v-row',{attrs:{\"justify\":\"end\"}},[_c('v-btn',{staticStyle:{\"margin-right\":\"5%\"},attrs:{\"color\":\"#6920A3\"},on:{\"click\":function($event){_vm.activateVote = false}}},[_vm._v(\"닫기\")])],1)],1)],1)}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fluid class=\"py-0 my-7 px-0 mx-0\">\r\n    <v-row fluid justify=\"center\" class=\"py-0 my-0 px-0 mx-5\">\r\n      <v-col xl=\"6\" lg=\"8\" cols=\"12\" class=\"pa-0 ma-0\">\r\n        <!-- page label -->\r\n        <!-- Page Label -->\r\n        <v-row class=\"py-0 my-0 px-0 mx-5\">\r\n          <v-col cols=\"12\" class=\"pa-0 ma-0 mb-2\">\r\n            <span>전체 알림</span>\r\n            <v-divider style=\"border-color: #C4C4C4 !important;\">\r\n              inset\r\n            </v-divider>\r\n          </v-col>\r\n        </v-row>\r\n        <!-- page label end -->\r\n        <!-- 알림 리스트 -->\r\n        <v-row justify=\"center\" class=\"mt-3\">\r\n          <v-card\r\n            class=\"mx-7 pa-3 mb-2\"\r\n            v-for=\"(notice, i) in notices\"\r\n            :key=\"i\"\r\n            style=\"width:75%\"\r\n            @click=\"navigate(notice)\"\r\n          >\r\n            <!-- 팀에서 보낸 알림일 때 -->\r\n            <v-avatar\r\n              color=\"white\"\r\n              size=\"38\"\r\n              rounded=\"\"\r\n              v-if=\"notice.giverTeam\"\r\n            >\r\n              <v-img\r\n                :src=\"\r\n                  getEmbUrl(notice.giverTeam)\r\n                \"\r\n              ></v-img>\r\n            </v-avatar>\r\n            <!-- 팀이 아닐 때 -->\r\n            <v-avatar color=\"primary\" size=\"38\" rounded=\"\" v-else>\r\n              <span class=\"white--text\">FBT</span>\r\n            </v-avatar>\r\n\r\n            <!-- 알림 내용 -->\r\n            <span class=\"ml-2 mr-5\" style=\"font-size:0.7em\">{{\r\n              notice.regDate | filterRegDate\r\n            }}</span>\r\n            <span>{{ notice.content }} </span>\r\n\r\n            <!-- 지인 투표 창 -->\r\n            <v-dialog v-model=\"activateVote\">\r\n              <v-row justify=\"center\">\r\n                <vote-match-list\r\n                  class=\"justify-center\"\r\n                  :votes=\"votes\"\r\n                  :header=\"header\"\r\n                  @refresh=\"showVoteMatchInfoById(notice)\"\r\n                  style=\"width: 90%\"\r\n                ></vote-match-list>\r\n              </v-row>\r\n              <v-row justify=\"end\">\r\n                <v-btn\r\n                  color=\"#6920A3\"\r\n                  @click=\"activateVote = false\"\r\n                  style=\"margin-right: 5%\"\r\n                  >닫기</v-btn\r\n                >\r\n              </v-row>\r\n            </v-dialog>\r\n          </v-card>\r\n        </v-row>\r\n        <!-- 알림 리스트 -->\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport VoteMatchList from \"@/components/VoteMatch/VoteMatchList.vue\";\r\nexport default {\r\n  name: \"notice\",\r\n  components: {\r\n    \"vote-match-list\": VoteMatchList\r\n  },\r\n  data() {\r\n    return {\r\n      notices: [],\r\n      activateVote: false,\r\n\r\n      // 지인 투표 관련 변수\r\n      votes: [],\r\n      header: \"voteMatchFriend\"\r\n    };\r\n  },\r\n  mounted() {\r\n    this.showNotices();\r\n  },\r\n  methods: {\r\n    // 엠블럼 이미지 가져오기\r\n    getEmbUrl(team) {\r\n      if (team) {\r\n        return this.$emblem + this.team.emblem;\r\n      } else {\r\n        return this.$emblem + \"emptyFC.svg\";\r\n      }\r\n    },\r\n    //FN01\r\n    showNotices() {\r\n      let email = JSON.parse(sessionStorage.getItem(\"userInfo\")).email;\r\n      this.$axios\r\n        .get(\"/notice/1/\" + email)\r\n        .then(response => {\r\n          this.notices = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    //FV01\r\n    showVoteMatchInfoById(notice) {\r\n      let voteMatchId = notice.voteMatch.voteMatchId;\r\n      this.$axios\r\n        .get(\"/vote-match/4/\" + voteMatchId)\r\n        .then(response => {\r\n          let vote = response.data;\r\n          // 지인 투표라는 표시를 남긴다\r\n          vote.isFriend = true;\r\n          // 리스트 객체에 담아 보낸다\r\n          this.votes = [];\r\n          this.votes.push(vote);\r\n          // 다이아로그를 연다\r\n          this.activateVote = true;\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    // 창 이동인지, 지인투표인지 방향 설정\r\n    navigate(notice) {\r\n      if (notice.pageName) {\r\n        //페이지 이름이 있으면 창이동\r\n        this.moveToPage(notice.pageName, notice.takerTeam);\r\n      } else {\r\n        this.showVoteMatchInfoById(notice);\r\n      }\r\n    },\r\n    moveToPage(page, takerTeam) {\r\n      let pageCom = page.split(\"-\");\r\n      let pageName = pageCom[0];\r\n      let params = {};\r\n      if (pageCom.length > 1) {\r\n        let pageCon = pageCom[1];\r\n        switch (pageCon) {\r\n          case \"other\":\r\n            this.setTeam(takerTeam);\r\n            break;\r\n          case \"endVoteMatch\":\r\n            this.setTeam(takerTeam);\r\n            params = {\r\n              isEndR: true\r\n            };\r\n            break;\r\n          case \"applySearch\":\r\n          case \"applyAssign\":\r\n            this.setTeam(takerTeam);\r\n            params = {\r\n              type: pageCon,\r\n              pageR: 3,\r\n              registeredStageR: 2\r\n            };\r\n            break;\r\n          case \"acceptSearch\":\r\n          case \"acceptAssign\":\r\n          case \"failAssign\":\r\n            this.setTeam(takerTeam);\r\n            params = {\r\n              type: pageCon,\r\n              pageR: 4,\r\n              appliedStageR: 2\r\n            };\r\n            break;\r\n          case \"refuseSearch\":\r\n          case \"refuseAssign\":\r\n          case \"failSearch\":\r\n            this.setTeam(takerTeam);\r\n            params = {\r\n              type: pageCon,\r\n              pageR: 4,\r\n              appliedStageR: 3\r\n            };\r\n            break;\r\n          case \"fillNumber\":\r\n          case \"fillNumber2\":\r\n            this.setTeam(takerTeam);\r\n            params = {\r\n              type: pageCon,\r\n              pageR: 3,\r\n              registeredStageR: 5\r\n            };\r\n            break;\r\n\r\n          case \"acceptEmployApply\":\r\n            params = {\r\n              type: pageCon,\r\n              pageR: 2,\r\n              appliedStageR: 3\r\n            };\r\n            break;\r\n          case \"refuseEmployApply\":\r\n            params = {\r\n              type: pageCon,\r\n              pageR: 2,\r\n              appliedStageR: 2\r\n            };\r\n            break;\r\n\r\n          case \"completeSearch\":\r\n          case \"completeAssign\":\r\n            this.setTeam(takerTeam);\r\n            pageName = \"scheduleManager\";\r\n            break;\r\n\r\n          case \"completeEmployApply\":\r\n            pageName = \"scheduleUser\";\r\n            break;\r\n\r\n          case \"cancelSearchApply\":\r\n          case \"cancelAssignApply\":\r\n          case \"cancelEmployApply\":\r\n            return null;\r\n        }\r\n      }\r\n      this.$router.push({\r\n        name: pageName,\r\n        params: params\r\n      });\r\n    },\r\n    // 팀 세팅 메소드\r\n    setTeam(takerTeam) {\r\n      let userInfo = JSON.parse(sessionStorage.getItem(\"userInfo\"));\r\n      let index = userInfo.teams\r\n        .map(x => parseInt(x.teamId))\r\n        .indexOf(takerTeam.teamId);\r\n      let team = userInfo.teams[index];\r\n      userInfo.teamId = team.teamId;\r\n      userInfo.teamMemberId = team.teamMemberId;\r\n      userInfo.nickName = team.nickName;\r\n      userInfo.teamName = team.teamName;\r\n      userInfo.memberLevel = team.memberLevel;\r\n      sessionStorage.setItem(\"userInfo\", JSON.stringify(userInfo));\r\n    }\r\n  },\r\n  filters: {\r\n    filterRegDate(value) {\r\n      let date = new Date(value);\r\n      let month = date.getMonth() + 1;\r\n      let day = date.getDate();\r\n      return month + \" 월 \" + day + \" 일\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Notice.vue?vue&type=template&id=b8be7278&\"\nimport script from \"./Notice.vue?vue&type=script&lang=js&\"\nexport * from \"./Notice.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCol,VContainer,VDialog,VDivider,VImg,VRow})\n"],"sourceRoot":""}